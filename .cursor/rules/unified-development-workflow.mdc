---
description: Règles minimales à appliquer à chaque modification de code ou déploiement
alwaysApply: true
---

# Règles projet (priorité 1)

1. **Avant toute modification** : observer la situation actuelle (ex. ouvrir l’app dans l’onglet navigateur, regarder la page/le composant concerné) pour comprendre l’état existant avant de toucher au code.
2. **Après la modification** : vérifier que les changements donnent le résultat escompté (ex. recharger/ouvrir l’app, contrôler le comportement ou l’affichage, lancer les tests si pertinent).
3. **Avant tout commit** : ne jamais committer du code non testé. Vérifier en local. Si plus de 3 fichiers modifiés, faire des micro-commits. Message : préfixe `feat` / `fix` / `refactor` / `docs` + description claire ; si grosse livraison, optionnel une ligne `Validation: …`.
4. **Code** : fonctions claires et testables ; pas d’erreurs JavaScript en console.
5. **Avant tout déploiement** : exécuter `npm run lint` puis `npm run build` dans `frontend/`. Si l’un échoue, ne pas déployer et remonter l’erreur. Déployer (Firebase, push) seulement si les deux passent. **Après déploiement** : smoke rapide (ouvrir l’app, une page liste, une page drills) si possible. Détail : `docs/DEPLOIEMENT.md`.
6. **À chaque livraison sur main** : mettre à jour `CHANGELOG.md` (date, thème, 2–3 lignes).
7. **Détail** : pour screenshot avant UI, template de commit complet, DoD complète → voir `docs/definition-of-done.md` et `docs/WORKFLOW-DETAILLE.md`.
